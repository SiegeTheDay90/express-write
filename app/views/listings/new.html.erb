<main>
    <h1>New Job Listing</h1>
    <form action="<%= listings_url %>" method="POST" style="max-width: 800px" class="ms-3" >
        <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
        
        <div class="mb-3 form-floating">
            <input placeholder type="text" required name="listing[company]" id="company" class="form-control" value="<%= @listing.company %>">
            <label for="company" class="fs-7 fw-bolder">Company</label>
        </div>
        
        <div class="mb-3 form-floating">
            <input placeholder type="text" required name="listing[job_title]" id="job-title" class="form-control" value="<%= @listing.job_title %>">
            <label for="job-title" class="fs-7 fw-bolder">Job Title</label>
        </div>
        
        <div class="mb-3 form-floating">
            <textarea placeholder name="listing[job_description]" id="job-description" class="form-control" style="height: 7em"><%= @listing.job_description %></textarea>
            <label for="job-description" class="fs-5 fw-bolder">Description</label>
        </div>
        
        <div class="mb-3 form-floating">
            <textarea placeholder name="listing[requirements]" id="requirements" class="form-control" style="height: 7em"><%= @listing.requirements.join("\n") %></textarea>
            <label for="requirements" class="fs-5 fw-bolder">Requirements & Qualifications</label>
        </div>
        
        <div class="mb-3 form-floating">
            <textarea placeholder name="listing[benefits]" id="benefits" class="form-control" style="height: 7em"><%= @listing.benefits.join("\n") %></textarea>
            <label for="benefits" class="fs-5 fw-bolder">Benefits/Other</label>
        </div>
        
        <button type="submit" class="btn btn-success">Save</button>
    </form>

    <hr>

    <div id="generate-listing-container">
    <h2>Generate with AI</h2>
        <form class="ajaxForm" id="generate-listing-form" action=<%= generate_listing_url %> method="POST" data-action="listings#generate"> 
            <input type="hidden" name="authenticity_token" value=<%= form_authenticity_token %>>
            <label for="type">Generate from:</label>
            <select id="type" name="type" style="width: max-content">
                <option value="url">URL</option>
                <option value="text">Plain Text</option>
            </select>

            <label for="input">Paste here:</label>
            <textarea name="input" id="input" cols="50", rows="5"></textarea><br>

            <input type="submit" value="Generate" class="btn btn-success">
        </form>
    </div>



</main>